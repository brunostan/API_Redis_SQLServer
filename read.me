# API BookStore

Este repositório contém o código-fonte de uma API ASP.NET Core responsável por gerenciar livros em uma aplicação de livraria. A API utiliza caching para otimizar a recuperação e manipulação dos dados dos livros.

## Índice

- [Introdução](#introdução)
- [Endpoints](#endpoints)
  - [GetBooks](#GetBooks)
  - [GetBook](#GetBook)
  - [UpdateBook](#UpdateBook)
  - [AddBook](#AddBook)
  - [DeleteBook](#DeleteBook)
- [Caching](#caching)
- [Conclusão](#conclusão)

## Introdução

O `BooksController` faz parte da API BookStore, que tem como objetivo fornecer endpoints para gerenciar dados relacionados a livros. Este controlador interage com um banco de dados SQL Server usando o Entity Framework Core e implementa mecanismos de caching do Redis para aprimorar o desempenho.

## Endpoints

### GetBooks

- **Método HTTP:** GET
- **Rota:** /api/Books
- **Descrição:** Recupera uma lista de todos os livros.

### GetBook

- **Método HTTP:** GET
- **Rota:** /api/Books/{id}
- **Descrição:** Recupera os detalhes de um livro específico identificado por seu `id`.

### UpdateBook

- **Método HTTP:** PUT
- **Rota:** /api/Books/{id}
- **Descrição:** Atualiza os detalhes de um livro específico identificado por seu `id`. Aceita um objeto `Book` modificado no corpo da solicitação.

### AddBook

- **Método HTTP:** POST
- **Rota:** /api/Books
- **Descrição:** Cria um novo livro. Espera um objeto `Book` no corpo da solicitação.

### DeleteBook

- **Método HTTP:** DELETE
- **Rota:** /api/Books/{id}
- **Descrição:** Exclui um livro com o `id` especificado.

## Caching

O controlador incorpora o caching usando a classe `CacheService` para melhorar o desempenho. O caching é aplicado nos seguintes cenários:

- Ao recuperar todos os livros (método `GetBooks`), a lista é armazenada em cache usando a chave `"Books:All"`.
- Ao recuperar um livro específico (método `GetBook`), o livro é armazenado em cache usando a chave `"Book:{id}"`.
- Ao modificar ou adicionar um livro (métodos `UpdateBook`, `AddBook`), as entradas de cache correspondentes são atualizadas ou removidas.

## Conclusão

O `BooksController` apresentado aqui é um componente fundamental da API BookStore. Ele fornece endpoints essenciais para gerenciar livros em uma aplicação de livraria, aproveitando o caching para otimizar a recuperação e o armazenamento de dados. Ao usar este controlador como parte de uma aplicação maior, os desenvolvedores podem lidar eficientemente com funcionalidades relacionadas a um CRUD.
